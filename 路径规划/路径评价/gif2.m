clc
clear
G=[0 0 1 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0; 
   0 0 1 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0; 
   0 0 1 1 0 0 1 1 0 0 0 0 0 0 0 1 1 1 1 0; 
   0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 1 1 1 1 0; 
   0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0; 
   0 0 1 1 0 0 1 1 0 0 0 0 0 1 1 1 0 0 0 0; 
   0 0 1 1 0 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0;
   0 0 1 1 0 0 1 1 1 1 1 1 1 1 1 1 0 0 0 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0; 
   0 0 0 0 0 0 0 1 1 0 0 0 1 1 0 0 0 0 0 0; 
   0 0 0 0 0 0 0 1 1 0 0 0 1 1 0 0 0 0 0 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 1 1 0 0 1 1 1 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 1 1 0 0 1 1 1 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 1 1 0 0 1 1 1 0; 
   0 0 1 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0; 
   0 0 1 1 0 0 1 1 0 0 0 0 0 0 0 0 0 1 1 0; 
   0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0; 
   0 0 1 1 0 0 0 0 0 0 1 1 0 0 1 0 0 0 0 0; 
   0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0;];
r=20;
for i=1:r
    for j=1:r
        if G(i,j)==1 
            x1=j-1;y1=r-i; 
            x2=j;y2=r-i; 
            x3=j;y3=r-i+1; 
            x4=j-1;y4=r-i+1; 
            fill([x1,x2,x3,x4],[y1,y2,y3,y4],'r'); 
            hold on 
        else 
            x1=j-1;y1=r-i; 
            x2=j;y2=r-i; 
            x3=j;y3=r-i+1; 
            x4=j-1;y4=r-i+1; 
            fill([x1,x2,x3,x4],[y1,y2,y3,y4],[1,1,1]); 
            hold on 
        end 
    end 
end 
hold on 


RX=[0.5,1.5,0.5,0.5,0.5,1.5,2.5,3.5,4.5,5.5,6.5,7.5,8.5,9.5,10.5,11.5,12.5,13.5,13.5,14.5,14.5,14.5,15.5,15.5,15.5,16.5,16.5,16.5,17.5,18.5,19.5,19.5,19.5,18.5,18.5,19.5];
RY=[0.5,0.5,3.5,4.5,5.5,7.5,8.5,8.5,7.5,6.5,6.5,6.5,6.5,6.5,6.5,5.5,4.5,3.5,4.5,5.5,6.5,7.5,8.5,9.5,10.5,11.5,12.5,13.5,14.5,15.5,16.5,17.5,18.5,18.5,19.5,19.5];
a=length(RY)
plot(0.5,0.5,'ro','MarkerSize',4,'LineWidth',4);   % Æðµã
plot(19.5,19.5,'gs','MarkerSize',5,'LineWidth',5);   % ÖÕµã

title('Results of ACO+GA algorithm path planning in environment 2')

pic_num = 1;
for i=1:39
    plot([RX(i),RX(i+1)],[RY(i),RY(i+1)],'m*-','LineWidth',1.5,'markersize',5)
    hold on
    pause(0.5);
    figure(1);
    drawnow;
    F=getframe(gcf);
    I=frame2im(F);
    [I,map]=rgb2ind(I,256);
    if pic_num == 1
        imwrite(I,map,'test1.gif','gif', 'Loopcount',inf,'DelayTime',0.5);
    else
        imwrite(I,map,'test1.gif','gif','WriteMode','append','DelayTime',0.5);
    end
    pic_num = pic_num + 1;
end

% G=[0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0; 
%    0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0; 
%    0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0; 
%    0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0; 
%    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0; 
%    0 1 1 1 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0; 
%    0 1 1 1 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
%    0 1 1 1 0 0 1 1 1 0 1 1 1 1 0 0 0 0 0 0; 
%    0 1 1 1 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0; 
%    0 0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0; 
%    0 0 0 0 0 0 0 1 1 0 1 1 1 1 0 0 0 0 0 0; 
%    0 0 0 0 0 0 0 1 1 0 1 1 1 1 0 0 0 0 0 0; 
%    0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 1 1 1 1 0; 
%    0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 1 1 1 1 0; 
%    1 1 1 1 0 0 0 0 0 0 0 0 1 1 0 1 1 1 1 0; 
%    1 1 1 1 0 0 1 1 0 0 0 1 0 0 0 0 0 0 0 0; 
%    0 0 0 0 0 0 1 1 0 1 1 1 0 0 0 0 0 1 1 0; 
%    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0; 
%    0 0 1 1 0 0 0 0 0 0 1 1 0 0 1 0 0 0 0 0; 
%    0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0;];